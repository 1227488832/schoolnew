"use strict";(self["webpackChunkschoolactivities"]=self["webpackChunkschoolactivities"]||[]).push([[90],{2090:function(t,s,a){a.r(s),a.d(s,{default:function(){return v}});var i=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"twoupdata"}},[s("div",{staticClass:"home_container"},[s("div",{staticClass:"iconback",on:{click:t.iconback}},[s("van-icon",{attrs:{name:"arrow-left"}})],1),t._m(0),s("div",{staticClass:"home_info"},[s("div",{staticClass:"home_info_cont"},[s("p",[t._v("已兑换咖啡：")]),s("p",[t._v(t._s(t.userInfo.conversion_num))])]),s("div",{staticClass:"home_info_cont"},[s("p",[t._v("已生成咖啡豆：")]),s("p",[t._v(t._s(t.userInfo.beans))])]),3==t.userInfo.beans?s("div",{staticClass:"hecheng",on:{click:t.hcbtn}},[t._v("合成")]):t._e()]),t._m(1),s("div",{staticClass:"pgree"},[s("van-progress",{attrs:{percentage:t.countnum,"stroke-width":"8"}})],1),s("div",{staticClass:"time"},[t._v(t._s(t.formatTime(t.count)))]),t._m(2),s("div",{staticClass:"back"},[s("div",{on:{click:t.getCode}},[t._v("开始计时")])]),s("div",{staticClass:"success"},[s("van-popup",{model:{value:t.dialogValue,callback:function(s){t.dialogValue=s},expression:"dialogValue"}},[s("div",{staticClass:"dialog_title"},[s("span",[t._v("「成功提示」")])]),s("div",{staticClass:"dialog_tis",staticStyle:{"font-size":"0.5333rem","margin-top":"1.3067rem"}},[t._v(" 恭喜您! ")]),s("div",{staticClass:"dialog_tis"},[t._v("今日的专注时间挑战已完成！")]),s("div",{staticClass:"dialog_tis"},[t._v("获得三颗咖啡豆,收集后，前往兑换处，")]),s("div",{staticClass:"dialog_tis"},[t._v("兑换咖啡券吧！")]),s("div",{staticClass:"dialog_back"},[s("div",{on:{click:function(s){t.dialogValue=!1}}},[t._v("确定")])])])],1),s("div",{staticClass:"dhsuccess"},[s("van-popup",{model:{value:t.dhsuccessdialog,callback:function(s){t.dhsuccessdialog=s},expression:"dhsuccessdialog"}},[s("div",{staticClass:"dialog_title"},[s("span",[t._v("「兑换提示」")])]),s("div",{staticClass:"word"},[s("div",{staticClass:"word_left"},[s("p",[t._v("亲爱的")]),s("p",[t._v("xxx")]),s("p",[t._v("同学")])]),s("div",{staticClass:"word_right"},[s("p",[t._v("您拥有")]),s("p",[t._v("3")]),s("p",[t._v("颗咖啡豆，可兑换元醇香滑一罐！")])]),s("h1",[t._v("是否兑换？")])]),s("div",{staticClass:"tis"},[s("p",[t._v("请到活动现场处确认,凭借兑换成功截图才可领奖，否则无效")])]),s("div",{staticClass:"dialog_btn"},[s("div",{staticClass:"dialog_back"},[s("div",{on:{click:t.hcback}},[t._v("取消")])]),s("div",{staticClass:"dialog_back"},[s("div",{on:{click:t.coffeesynthesis}},[t._v("确定")])])])])],1),s("div",{staticClass:"timedialog"},[s("van-popup",{model:{value:t.timedialog,callback:function(s){t.timedialog=s},expression:"timedialog"}},[s("div",{staticClass:"dialog_title"},[s("span",[t._v("「剩余提示」")])]),s("div",{staticClass:"word"},[s("div",{staticClass:"word_left"},[s("p",[t._v("今天的专注小工具有效时间")])]),s("div",{staticClass:"word_right"},[s("p",[t._v("还剩")]),s("p",[t._v(t._s(t.minute))]),s("p",[t._v("分钟")])])]),s("div",{staticClass:"dialog_back"},[s("div",{on:{click:function(s){t.timedialog=!1}}},[t._v("确定")])])])],1),s("div",{staticClass:"lastdialog"},[s("van-popup",{model:{value:t.lastdialog,callback:function(s){t.lastdialog=s},expression:"lastdialog"}},[s("div",{staticClass:"dialog_back"},[s("div",{on:{click:function(s){t.lastdialog=!1}}},[t._v("确定")])])])],1)])])},o=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"home_title"},[s("div",[t._v("雀巢咖啡，提醒每一天")]),s("h5",[t._v("同学，请放下手机专心读书吧！")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"home_ing"},[s("img",{attrs:{src:a(5963),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tix"},[s("p",[t._v("集齐：三颗咖啡豆，请前往线下活动处兑换")])])}],e=(a(7658),a(5214));const n=t=>{var s=parseInt(t),a=0,i=0;s>=60&&(a=parseInt(s/60),s=parseInt(s%60),a>=60&&(i=parseInt(a/60),a=parseInt(a%60)));var o=`${i<10?"0"+i:i}:${a<10?"0"+a:a}:${s<10?"0"+s:s}`;return o};var c={data(){return{userInfo:{conversion_num:"",beans:""},gameId:"",gameValue:"",dialogValue:!1,dhsuccessdialog:!1,timedialog:!1,lastdialog:!1,count:10800,countnum:0,timer:null,dialogIndex:0,minute:0}},mounted(){this.getInfo()},methods:{formatTime(t){return console.log(t),n(t)},iconback(){this.$router.go(-1)},hcback(){this.dhsuccessdialog=!1},getInfo(){(0,e.Rh)().then((t=>{console.log(t),200==t.data.status&&(this.userInfo.conversion_num=t.data.data.conversion_num,this.userInfo.beans=t.data.data.beans)}))},getCode(){const t=10800;this.timer||(this.count=t,this.show=!1,this.timer=setInterval((()=>{this.count>0&&this.count<=t?(this.count%108==0&&this.count!==t&&(this.countnum++,99==this.countnum&&setTimeout((()=>{this.countnum+=1}),1e3)),7200!=this.count&&3600!=this.count&&0!=this.count||this.GetCoffeeData().then((t=>{console.log(t),200==t.data.status&&(this.timedialog=!0,this.dialogIndex++,1==this.dialogIndex&&(this.minute=60),2==this.dialogIndex&&(this.minute=120))})),this.count--,0==this.count&&(this.dialogValue=!0)):(this.show=!0,clearInterval(this.timer),this.timer=null)}),1e3))},coffeesynthesis(){(0,e.DP)().then((t=>{console.log(t),10003==t.data.status&&this.Toast(t.data.msg),10007==t.data.status&&this.Toast(t.data.msg),10008==t.data.status&&this.Toast(t.data.msg),15e3==t.data.status&&this.Toast(t.data.msg),200==t.data.status&&(this.lastdialog=!0,this.Toast(t.data.msg),this.userInfo.conversion_num=t.data.data.conversion_num,this.userInfo.beans=t.data.data.beans)}))},hcbtn(){this.dhsuccessdialog=!0},back(){this.$router.push("/pagetwo")},goto(){this.getCode(),this.timedialog=!0}}},l=c,d=a(1001),u=(0,d.Z)(l,i,o,!1,null,"ca8ce268",null),v=u.exports},5963:function(t,s,a){t.exports=a.p+"img/time.b407c705.png"}}]);
//# sourceMappingURL=90.b53b182e.js.map